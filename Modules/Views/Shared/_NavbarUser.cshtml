@using Microsoft.AspNetCore.Identity
@using TaskManager.Modules.Users.Models
@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

@{
    var currentUser = await UserManager.GetUserAsync(User);
    var displayName = currentUser?.FullName ?? User.Identity?.Name;
}

<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
    <div class="container">
        <a class="navbar-brand fw-bold" href="/">User Panel</a>

        <ul class="navbar-nav me-auto">
            <li class="nav-item"><a class="nav-link" asp-controller="Gamification" asp-action="MyProgress">My Progress</a></li>
            <li class="nav-item"><a class="nav-link" asp-controller="Gamification" asp-action="Leaderboard">Leaderboard</a></li>
        </ul>

        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <a class="nav-link text-light fw-bold" asp-area="Identity" asp-page="/Account/Manage/Index" title="Vezi profilul">
                    Salut, @displayName!
                </a>
            </li>
            <li class="nav-item">
                <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                    <button type="submit" class="nav-link btn btn-link text-light border-0">Logout</button>
                </form>
            </li>
        </ul>
    </div>
</nav>